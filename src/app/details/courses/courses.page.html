<ion-header mode="md">
    <ion-toolbar class="ion-no-margin">
        <ion-chip slot="start" class="remove-background" (click)="goBackHome()">
            <ion-icon class="icon-remove-margin" name="arrow-back-outline" color="dark"></ion-icon>
        </ion-chip>
        <ion-title>Courses</ion-title>
        <ion-chip slot="end" class="remove-background " (click)="util.openContest()">
            <ion-icon class="icon-remove-margin" [class.contest]="contest" name="ribbon-outline" color="danger"></ion-icon>
        </ion-chip>
        <ion-badge slot="end" mode="ios" class="contest-badge" color="danger">{{contestBadge}}</ion-badge>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div *ngIf="!course">
        <ion-skeleton-text animated></ion-skeleton-text>
        <div class="main-content">
            <div class="card">
                <div class="r-detail">
                    <div class="heading">
                        <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
                        <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                    </div>
                    <ion-row>
                        <ion-col size="3">
                            <ion-label class="title">Rating</ion-label><br>
                            <ion-skeleton-text animated></ion-skeleton-text>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Duration</ion-label><br>
                            <ion-skeleton-text animated></ion-skeleton-text>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Language</ion-label><br>
                            <ion-skeleton-text animated></ion-skeleton-text>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Price</ion-label><br>
                            <ion-skeleton-text animated></ion-skeleton-text>
                        </ion-col>
                    </ion-row>
                    <div class="heading">
                        <ion-label class="title">Description </ion-label>
                        <ion-skeleton-text animated></ion-skeleton-text>
                        <ion-skeleton-text animated></ion-skeleton-text>
                        <ion-skeleton-text animated></ion-skeleton-text>
                        <ion-skeleton-text animated></ion-skeleton-text>
                    </div>

                </div>
                <div class="items">
                    <div *ngFor="let item of [1,2]">
                        <div class="name">
                            <ion-skeleton-text animated style="width: 40%"></ion-skeleton-text>
                        </div>
                        <ion-row>
                            <ion-col class="ion-no-padding" size="3">
                                <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                            </ion-col>
                            <ion-col size="9">
                                <div class="title">
                                    <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                                    <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
                                </div>
                                <div class="item-detail">
                                    <ion-skeleton-text animated></ion-skeleton-text>
                                    <ion-skeleton-text animated></ion-skeleton-text>
                                    <ion-skeleton-text animated></ion-skeleton-text>
                                    <ion-skeleton-text animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                        </ion-row>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div *ngIf="course">
        <img src="{{course.img}}">
        <div class="main-content">
            <div class="card">
                <div class="r-detail">
                    <div class="heading">
                        <ion-label class="title"> {{course.name}} </ion-label>
                        <ion-label class="text"> {{course.code}}</ion-label>
                        <ion-label class="text" (click)="goToUser()">By: {{course.fullname}}</ion-label>
                    </div>
                    <ion-row>
                        <ion-col size="3">
                            <ion-label class="title">Rating</ion-label><br>
                            <ion-label class="text">{{course.rating | number : '1.2-2'}}</ion-label>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Duration</ion-label><br>
                            <ion-label class="text">{{course.duration}}</ion-label>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Language</ion-label><br>
                            <ion-label class="text">{{course.lang}}</ion-label>
                        </ion-col>
                        <ion-col size="3">
                            <ion-label class="title">Price</ion-label><br>
                            <ion-label class="text">{{course.price | number : '1.3-3'}}</ion-label>
                        </ion-col>
                    </ion-row>
                    <div *ngIf="!paid">
                        <ion-row>
                            <ion-col>
                                <ion-button expand="full" (click)="purchaseCourse()" shape="round"> Buy Now</ion-button>
                            </ion-col>
                        </ion-row>
                    </div>
                    <div class="heading">
                        <ion-label class="title">Description </ion-label>
                        <p class="text">{{course.description}}</p>
                    </div>

                </div>
                <div>
                    <div class="items" *ngIf="trailer">
                        <div>
                            <div class="name">
                                <ion-label>{{trailer.trailer_title}}</ion-label>
                            </div>
                            <ion-row (click)="playYoutubeVideo(trailer.trailer_video)">
                                <ion-col class="ion-no-padding" size="3">
                                    <img src="{{trailer.trailer_thumb}}">
                                </ion-col>
                                <ion-col size="9">
                                    <div class="title">
                                        <ion-label class="item-name">{{trailer.trailer_title}}</ion-label>
                                        <ion-label class="calery">{{trailer.trailer_duration}}</ion-label>
                                    </div>
                                    <div class="item-detail">
                                        <ion-label>{{trailer.trailer_description}} </ion-label>
                                    </div>
                                </ion-col>
                            </ion-row>
                        </div>
                    </div>
                </div>
                <div *ngIf="paid">
                    <div class="items" *ngIf="sections">
                        <div *ngFor="let item of sections">
                            <div class="name">
                                <ion-label>{{item.section_name}}</ion-label>
                            </div>
                            <ion-row *ngFor="let content of item.course_content" (click)="playYoutubeVideo(content.video)">
                                <ion-col class="ion-no-padding" size="3">
                                    <img src="{{content.video_thumb}}">
                                </ion-col>
                                <ion-col size="9">
                                    <div class="title">
                                        <ion-label class="item-name">{{content.video_title}}</ion-label>
                                        <ion-label class="calery">{{content.video_duration}}</ion-label>
                                    </div>
                                    <div class="item-detail">
                                        <ion-label>{{content.video_description}} </ion-label>
                                    </div>
                                </ion-col>
                            </ion-row>
                        </div>
                    </div>
                </div>
                <div *ngIf="!paid">
                    <div class="items" *ngIf="sections">
                        <div *ngFor="let item of sections">
                            <div class="name">
                                <ion-label>{{item.section_name}}</ion-label>
                            </div>
                            <ion-row *ngFor="let content of item.course_content" (click)="purchaseCourse()">
                                <ion-col class="ion-no-padding" size="3">
                                    <img src="{{content.video_thumb}}">
                                    <div class="div-overlay">
                                        <ion-icon name="lock-closed" class="locked-icon" size="large"></ion-icon>
                                    </div>
                                </ion-col>
                                <ion-col size="9">
                                    <div class="title">
                                        <ion-label class="item-name">{{content.video_title}}</ion-label>
                                        <ion-label class="calery">{{content.video_duration}}</ion-label>
                                    </div>
                                    <div class="item-detail">
                                        <ion-label>{{content.video_description}} </ion-label>
                                    </div>
                                </ion-col>
                            </ion-row>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</ion-content>